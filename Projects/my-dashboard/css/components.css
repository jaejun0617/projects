/* --- components.css --- */

/* ==========================================================================
   1. 전역 컴포넌트 (Global Components)
   - 여러 곳에서 공통적으로 사용되는 기본 단위 스타일
   ========================================================================== */

/* --- 1-1. 헤더 & 사이드바 --- */
.header,
.sidebar {
   background-color: rgba(255, 255, 255, 0.3);
   backdrop-filter: blur(10px);
   -webkit-backdrop-filter: blur(10px);
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
   border: 1px solid rgba(255, 255, 255, 0.5);
}
.header {
   border-right: none;
   border-left: none;
   border-top: none;
}
.sidebar {
   border-left: none;
   border-top: none;
   border-bottom: none;
}

/* 현재시간 */

#datetime {
   display: flex;
   align-items: center;
   justify-content: center;
   flex-direction: column;
   gap: 1.5rem;
}

#clock {
   font-size: 2.2rem;
   font-weight: 600;
}

#date {
   font-size: 1.3rem;
   opacity: 0.9;
}

/* --- 1-2. Welcome 메시지 --- */
.welcome {
   line-height: 1.7;
   background-color: rgba(255, 255, 255, 0.3);
   backdrop-filter: blur(10px);
   -webkit-backdrop-filter: blur(10px);
   border: 1px solid rgba(255, 255, 255, 0.5);
   border-radius: 16px;
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
   padding: 5px 20px;
}
.welcome h1 {
   font-size: 2rem;
   font-weight: 600;
}
.welcome p {
   font-size: 1.4rem;
   font-weight: 500;
   margin-top: 8px;
}

/* ==========================================================================
   2. 개별 컴포넌트 상세 (Individual Components Detail)
   - 각 컴포넌트 내부의 세부 스타일
   ========================================================================== */

/* --- 2-1. 헤더 내부 --- */
.logo {
   width: 32px;
   height: 32px;
   border: 1px solid rgba(255, 255, 255, 0.5);
   border-radius: 50%;
   overflow: hidden;
}
.logo img {
   width: 100%;
   height: 100%;
   object-fit: cover;
}
#clock {
   font-size: 2rem;
}

/* --- 2-2. 사이드바 메뉴 --- */
.sidebar-nav {
   display: flex;
   flex-direction: column;
   gap: 8px;
}
.nav-group {
   margin-top: 24px;
}
.nav-group:first-child {
   margin-top: 0;
}
.nav-group-title {
   font-size: 1.2rem;
   font-weight: 600;
   color: #ffffff;
   text-transform: uppercase;
   display: block;
   padding: 0 0 12px 12px;
}
.nav-item {
   display: flex;
   align-items: center;
   gap: 12px;
   padding: 12px;
   border-radius: 8px;
   font-size: 1.5rem;
   font-weight: 500;
   transition: background-color 0.2s;
}
.nav-item img {
   width: 20px;
   height: 20px;
}
.nav-item:hover {
   background-color: rgba(0, 0, 0, 0.05);
}
.nav-item.active {
   background-color: rgba(0, 122, 255, 0.1);
   color: #007aff;
   font-weight: 600;
}

/* --- 2-3. stopwatch 버튼 --- */
.stopwatch-button {
   width: 100%;
   display: flex;
   justify-content: flex-start;
   align-items: center;
   gap: 12px;
   padding: 12px;
   border-radius: 8px;
   font-size: 1.5rem;
   font-weight: 500;
   transition: background-color 0.2s;
   border: 1px solid rgba(0, 0, 0, 0.1);
}
.stopwatch-button:hover {
   background-color: rgba(0, 0, 0, 0.05);
}
.stopwatch-timer-display {
   width: 100%;
   display: flex;
   justify-content: space-between;
   align-items: center;
   background-color: rgba(0, 122, 255, 0.1);
   padding: 8px 12px;
   border-radius: 8px;
}

/* 남은 시간을 보여주는 텍스트 */
.stopwatch-time {
   font-size: 1.8rem;
   font-weight: 600;
   font-variant-numeric: tabular-nums;
   color: #007aff;
}

/* 일시정지, 종료 버튼을 담는 그룹 */
.stopwatch-controls {
   display: flex;
   gap: 8px;
}

/* 개별 컨트롤 버튼 */
.stopwatch-control-btn {
   background: none;
   border: none;
   padding: 4px;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   opacity: 0.7;
   transition: opacity 0.2s;
}
.stopwatch-control-btn:hover {
   opacity: 1;
}
.stopwatch-control-btn img {
   width: 20px;
   height: 20px;
}
/* --- 2-4. 위젯 내부 상세 스타일 --- */

/* 미니 캘린더 (대시보드) */
.mini-calendar {
   width: 100%;
   height: 100%;
   display: flex;
   flex-direction: column;
}
.mini-calendar .calendar-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding: 0 4px 16px;
}
.mini-calendar .current-month-year {
   font-size: 1.6rem;
   font-weight: 600;
}
.mini-calendar .nav-btn {
   background: none;
   border: none;
   cursor: pointer;
   padding: 8px;
   border-radius: 50%;
   display: flex;
   justify-content: center;
   align-items: center;
   transition: background-color 0.2s;
}
.mini-calendar .nav-btn:hover {
   background-color: rgba(0, 0, 0, 0.05);
}
.mini-calendar .calendar-grid {
   display: grid;
   grid-template-columns: repeat(7, 1fr);
   gap: 8px;
   flex-grow: 1;
}
.mini-calendar .day-name,
.mini-calendar .date {
   display: flex;
   justify-content: center;
   align-items: center;
   font-size: 1.3rem;
   font-weight: 500;
}
.mini-calendar .day-name {
   color: #888;
   margin-bottom: 4px;
}
.mini-calendar .date {
   position: relative;
   width: 100%;
   aspect-ratio: 1 / 1;
   border-radius: 50%;
   cursor: pointer;
   transition: background-color 0.2s;
}
.mini-calendar .date:hover {
   background-color: rgba(0, 0, 0, 0.05);
}
.mini-calendar .date.today {
   background-color: #007aff;
   color: white;
   font-weight: 700;
}
.mini-calendar .date.has-event::after {
   content: '';
   position: absolute;
   bottom: 15%;
   left: 50%;
   transform: translateX(-50%);
   width: 4px;
   height: 4px;
   background-color: #ff3b30;
   border-radius: 50%;
}
.mini-calendar .date.today.has-event::after {
   background-color: white;
}

/* 습관 트래커 */
#habit-list-container {
   display: flex;
   flex-direction: column;
   gap: 8px;
   flex-grow: 1;
}

.habit-group {
   border: 1px solid rgba(0, 0, 0, 0.1);
   border-radius: 12px;
   overflow: hidden;
   transition: all 0.3s ease;
   background-color: rgba(255, 255, 255, 0.5);
}

/* 아코디언 헤더 */
.habit-category-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding: 16px;
   cursor: pointer;
   background-color: rgba(0, 0, 0, 0.03);
   transition: background-color 0.2s;
}
.habit-category-header:hover {
   background-color: rgba(0, 0, 0, 0.06);
}
.habit-category-title {
   font-size: 1.4rem;
   font-weight: 600;
   color: #333;
   cursor: text;
}
.category-controls {
   display: flex;
   align-items: center;
   gap: 8px;
}
.add-habit-to-category-btn {
   background: none;
   border: 1px solid rgba(0, 0, 0, 0.2);
   width: 24px;
   height: 24px;
   border-radius: 50%;
   font-size: 1.8rem;
   line-height: 1;
   color: #555;
   cursor: pointer;
   transition: all 0.2s;
}
.add-habit-to-category-btn:hover {
   background-color: rgba(0, 0, 0, 0.1);
   color: #000;
}
.accordion-icon {
   font-weight: bold;
   font-size: 1.8rem;
   transition: transform 0.3s ease;
}
.category-edit-input {
   font-size: 1.4rem;
   font-weight: 600;
   color: #333;
   border: none;
   background-color: rgba(255, 255, 255, 0.5);
   padding: 2px 4px;
   border-radius: 4px;
   width: 100%;
}
.category-edit-input:focus {
   outline: 2px solid #007aff;
}

/* 아코디언 동작 */
.habit-list {
   display: flex;
   flex-direction: column;
   gap: 16px;
   max-height: 0;
   overflow: hidden;
   padding: 0 16px;
   transition:
      max-height 0.4s ease-in-out,
      padding 0.4s ease-in-out;
}
.habit-group.open .habit-list {
   max-height: 500px;
   padding: 16px;
   overflow-y: auto;
}
.habit-group.open .accordion-icon {
   transform: rotate(90deg);
}

/* 습관 아이템 (내부) */
.habit-item {
   display: flex;
   align-items: center;
   gap: 12px;
   font-size: 1.2rem;
}
.habit-item label {
   flex-grow: 1;
   cursor: pointer;
}
.habit-item.done label {
   text-decoration: line-through;
   opacity: 0.5;
}
.habit-item input[type='checkbox'] {
   width: 20px;
   height: 20px;
   cursor: pointer;
}
.delete-habit-btn {
   background: none;
   border: none;
   padding: 4px;
   margin-left: auto;
   display: flex;
   align-items: center;
   justify-content: center;
   border-radius: 50%;
   cursor: pointer;
   opacity: 0.5;
   transition: all 0.2s;
}
.delete-habit-btn:hover {
   background-color: rgba(0, 0, 0, 0.1);
   opacity: 1;
}
.delete-habit-btn img {
   width: 18px;
   height: 18px;
}
.page-header {
   text-align: center;
   font-size: 2rem;
   font-weight: bold;
}
/* 위젯 하단 */
.habit-footer {
   padding-top: 16px;
   margin-top: auto;
   border-top: 1px solid rgba(0, 0, 0, 0.1);
}
#add-category-btn {
   width: 100%;
   padding: 10px;
   border-radius: 8px;
   background-color: rgba(0, 0, 0, 0.05);
   font-weight: 500;
   transition: background-color 0.2s;
}
#add-category-btn:hover {
   background-color: rgba(0, 0, 0, 0.1);
}
/* 메모장 */
.memo-widget .widget-content {
   display: flex;
}
.memo-widget textarea {
   width: 100%;
   height: 100%;
   resize: none;
   background: transparent;
   border: none;
   font-size: 1.5rem;
   line-height: 1.6;
}
.memo-widget textarea:focus {
   outline: none;
}
/* --- 2-6. 북마크 위젯 --- */
.bookmark-widget .widget-content {
   padding: 4px;
}

.links-grid {
   display: grid;

   grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
   gap: 16px;
}

.link-card {
   display: flex;
   flex-direction: column;
   justify-content: center;
   align-items: center;
   gap: 12px;

   background-color: rgba(255, 255, 255, 0.5);
   border: 1px solid rgba(255, 255, 255, 0.7);
   border-radius: 12px;
   padding: 16px 8px;

   aspect-ratio: 1 / 1;

   transition: all 0.2s ease-in-out;
}

.link-card:hover {
   transform: translateY(-4px);
   background-color: rgba(255, 255, 255, 0.8);
   box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
}

.link-card img {
   width: 24px;
   height: 24px;
   object-fit: contain;
}

.link-card .link-title {
   font-size: 1.3rem;
   font-weight: 500;
   width: 100%;
   text-align: center;
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
}
/* --- 2-7. 오늘의 할 일 위젯*/
.todo-widget {
   /* 
     * 핵심 수정 1: Flexbox 레이아웃 설정은 유지하되, 
     * 위젯 자체에 overflow: hidden을 적용하여 자식 요소가 부모를 넘어가지 못하게 합니다.
     */
   display: flex;
   flex-direction: column;
   gap: 16px;
   padding: 20px;
   overflow: hidden; /* 위젯 경계를 넘어가는 내용을 숨깁니다. */
}

/* --- 헤더 --- */
.todo-header {
   flex-shrink: 0; /* 헤더의 높이가 줄어들지 않도록 고정 */
}
#todo-title {
   font-size: 1.8rem;
   font-weight: 600;
   margin-bottom: 16px;
}
.todo-categories {
   display: flex;
   background-color: rgba(0, 0, 0, 0.05);
   border-radius: 10px;
   padding: 4px;
}
.category-btn {
   flex: 1;
   padding: 8px 12px;
   border-radius: 8px;
   font-size: 1.4rem;
   font-weight: 500;
   color: #333;
   background-color: transparent;
   transition: all 0.2s ease-in-out;
}
.category-btn.active {
   background-color: rgba(255, 255, 255, 0.8);
   box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
   color: #007aff;
   font-weight: 600;
}

/* --- 메인 컨텐츠 (할 일 목록) --- */
.todo-list-container {
   flex-grow: 1;
   max-height: 400px;
   min-height: 700px;
   overflow-y: auto;
   padding-right: 8px;
   /* border: 1px solid red; */
}

.todo-list {
   list-style: none;
   display: flex;
   flex-direction: column;
   gap: 10px;
}
.todo-item {
   display: flex;
   align-items: center;
   gap: 12px;
   padding: 14px;
   background-color: rgba(255, 255, 255, 0.5);
   border: 1px solid rgba(255, 255, 255, 0.7);
   border-radius: 12px;
   font-size: 1.5rem;
   cursor: grab;
   transition: all 0.2s ease;
}
.todo-item:hover {
   background-color: rgba(255, 255, 255, 0.8);
   transform: scale(1.01);
}
.todo-item.dragging {
   opacity: 0.5;
   background-color: rgba(0, 122, 255, 0.2);
}

/* (이하 .todo-item 내부 스타일은 변경 없음) */
.todo-item.done .todo-text {
   text-decoration: line-through;
   opacity: 0.5;
}
.todo-item input[type='checkbox'] {
   appearance: none;
   -webkit-appearance: none;
   width: 20px;
   height: 20px;
   border: 2px solid rgba(0, 0, 0, 0.3);
   border-radius: 50%;
   cursor: pointer;
   transition: all 0.2s;
   flex-shrink: 0;
}
.todo-item input[type='checkbox']:hover {
   border-color: #007aff;
}
.todo-item input[type='checkbox']:checked {
   background-color: #007aff;
   border-color: #007aff;
   background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
}
.todo-text {
   flex-grow: 1;
   word-break: break-all;
}
.todo-edit-input {
   flex-grow: 1;
   font-size: 1.5rem;
   border: none;
   background: transparent;
   border-bottom: 2px solid #007aff;
   padding: 4px 0;
   outline: none;
}
.todo-delete-btn {
   background: none;
   border: none;
   padding: 4px;
   opacity: 0.5;
   transition: opacity 0.2s;
   flex-shrink: 0;
}
.todo-delete-btn:hover {
   opacity: 1;
}

/* --- 푸터 --- */
.todo-footer {
   flex-shrink: 0; /* 푸터의 높이가 줄어들지 않도록 고정 */
   padding-top: 16px;
   border-top: 1px solid rgba(0, 0, 0, 0.1);
}
/* (이하 푸터 내부 스타일은 변경 없음) */
.todo-input-wrapper {
   display: flex;
   gap: 8px;
   margin-bottom: 16px;
}
#todo-input {
   flex-grow: 1;
   padding: 10px 14px;
   border-radius: 10px;
   border: 1px solid rgba(0, 0, 0, 0.1);
   background-color: rgba(255, 255, 255, 0.7);
   font-size: 1.4rem;
}
#todo-add-btn {
   background-color: #007aff;
   color: white;
   border-radius: 10px;
   width: 44px;
   height: 44px;
   font-size: 2rem;
}
.progress-container {
   display: flex;
   align-items: center;
   gap: 12px;
   margin-bottom: 16px;
}
.progress-bar {
   flex-grow: 1;
   height: 8px;
   background-color: rgba(0, 0, 0, 0.1);
   border-radius: 4px;
   overflow: hidden;
}
.progress-fill {
   height: 100%;
   width: 0;
   background-color: #28a745;
   border-radius: 4px;
   transition: width 0.3s ease;
}
#progress-text {
   font-size: 1.3rem;
   font-weight: 500;
   font-variant-numeric: tabular-nums;
}
#todo-clear-btn {
   width: 100%;
   padding: 10px;
   border-radius: 8px;
   background-color: rgba(255, 77, 79, 0.1);
   color: #ff4d4f;
   font-weight: 500;
   transition: background-color 0.2s;
}
#todo-clear-btn:hover {
   background-color: rgba(255, 77, 79, 0.2);
}
.full-calendar-container {
   width: 100%;
   display: flex;
   flex-direction: column;

   gap: 24px;
   /* border: 1px solid red; */
}
#calendar {
   background-color: rgba(255, 255, 255, 0.2);
   backdrop-filter: blur(10px);
   -webkit-backdrop-filter: blur(10px);
   border-radius: 16px;
   padding: 24px;

   box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.5);

   color: #ffffff;
   text-shadow: 0px 1px 4px rgba(0, 0, 0, 0.5);

   /* --fc-border-color: rgba(255, 255, 255, 0.2);/ */
   /* --fc-today-bg-color: rgba(255, 255, 255, 0.15); */
   --fc-event-bg-color: transparent;
   --fc-event-border-color: transparent;
   --fc-event-text-color: #ffffff;
}
#calendar .fc-scrollgrid-sync-inner {
   padding: 1rem 0rem;
   font-size: 1.4rem;
}
#calendar .fc-daygrid-day-top {
   font-size: 1.4rem;
}
#calendar .fc-h-event .fc-event-title-container {
   font-size: 1.4rem;
   text-align: center;
}
/* --- 2-8. 오늘 달성률 위젯 (Daily Progress) - 고급 스타일 버전 --- */

.daily-progress-widget {
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: space-between; /* 요소들을 위아래로 분산 배치 */
   padding: 20px;
}

.daily-progress-widget .widget-title {
   text-align: center;
   width: 100%;
}

.daily-progress-widget .widget-content {
   position: relative;
   display: flex;
   justify-content: center;
   align-items: center;
   width: 100%;
   max-width: 220px; /* 차트 크기를 살짝 키움 */
   flex-grow: 1;
}

#daily-progress-chart {
   max-width: 100%;
   max-height: 100%;
}

.daily-progress-info {
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   gap: 4px;
   user-select: none;
   pointer-events: none;
   text-align: center;
}

.daily-progress-text {
   font-size: 2.8rem;
   font-weight: 800; /* 더 굵게 */
   color: #2c3e50; /* 진한 회색으로 가독성 확보 */

   /* 달성률에 따라 색상이 바뀔 수 있도록 transition 추가 */
   transition: color 0.5s ease;
}

/* --- [핵심] 달성률 상태별 스타일 --- */
/* 50% 이상 달성 시 */
.daily-progress-widget[data-status='good'] .daily-progress-text {
   color: #2980b9; /* 파란색 계열 */
}
/* 100% 달성 시 */
.daily-progress-widget[data-status='perfect'] .daily-progress-text {
   color: #27ae60; /* 녹색 계열 */
   /* 100% 달성 시 반짝이는 효과 */
   animation: sparkle 1.5s ease-in-out infinite;
}

.progress-counts {
   font-size: 1.4rem;
   font-weight: 500;
   color: #7f8c8d;
   transition: color 0.5s ease;
}

/* 100% 달성 시 텍스트도 강조 */
.daily-progress-widget[data-status='perfect'] .progress-counts {
   color: #27ae60;
   font-weight: 600;
}

/* --- [핵심] 달성률에 따라 배경 그라데이션이 차오르는 효과 --- */
.daily-progress-widget .widget-footer {
   width: 100%;
   height: 10px;
   background-color: rgba(0, 0, 0, 0.08);
   border-radius: 5px;
   margin-top: 16px;
   overflow: hidden;
   position: relative;
}

.progress-bar-fill {
   position: absolute;
   top: 0;
   left: 0;
   height: 100%;
   width: 0; /* JS가 이 너비를 조절 */
   border-radius: 5px;

   /* 그라데이션 배경 */
   background: linear-gradient(90deg, #8e44ad, #3498db, #2ecc71);
   background-size: 200% 100%;

   transition: width 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);

   /* 100% 달성 시 그라데이션 애니메이션 */
   animation: gradient-flow 3s linear infinite;
}

/* 100%가 아닐 때는 그라데이션 애니메이션 비활성화 */
.daily-progress-widget:not([data-status='perfect']) .progress-bar-fill {
   animation: none;
}

/* --- [핵심] 100% 달성 축하 애니메이션 --- */
@keyframes sparkle {
   0%,
   100% {
      transform: scale(1);
      opacity: 1;
   }
   50% {
      transform: scale(1.1);
      opacity: 0.8;
   }
}

@keyframes gradient-flow {
   0% {
      background-position: 200% 0;
   }
   100% {
      background-position: -200% 0;
   }
}

/* --- 2-9. 분석 페이지 (Analytics) --- */
.analytics-container {
   display: flex;
   flex-direction: column;
   gap: 24px;
   width: 100%;
}

/* 페이지 헤더 */
.analytics-container .page-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   flex-wrap: wrap; /* 모바일에서 줄바꿈 */
   gap: 16px;
}
.analytics-container .page-header h1 {
   font-size: 2.4rem;
   font-weight: 700;
}
.filter-container {
   display: flex;
   align-items: center;
   gap: 8px;
   font-size: 1.4rem;
}
.period-filter {
   padding: 8px 12px;
   border-radius: 8px;
   border: 1px solid rgba(0, 0, 0, 0.1);
   background-color: rgba(255, 255, 255, 0.7);
   font-size: 1.4rem;
}

/* 통계 카드 */
.stats-grid {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
   gap: 20px;
}
.stat-card {
   background-color: rgba(255, 255, 255, 0.3);
   backdrop-filter: blur(10px);
   border: 1px solid rgba(255, 255, 255, 0.5);
   border-radius: 16px;
   padding: 20px;
   text-align: center;
}
.stat-card h3 {
   font-size: 1.5rem;
   font-weight: 500;
   color: #555;
   margin-bottom: 8px;
}
.stat-card p {
   font-size: 2.8rem;
   font-weight: 700;
   color: #007aff;
}

/* 차트 컨테이너 */
.chart-grid {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
   gap: 24px;
}
.chart-container {
   background-color: rgba(255, 255, 255, 0.3);
   backdrop-filter: blur(10px);
   border: 1px solid rgba(255, 255, 255, 0.5);
   border-radius: 16px;
   padding: 24px;
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}
.chart-container h2 {
   font-size: 1.8rem;
   font-weight: 600;
   margin-bottom: 20px;
}
/* 차트 하단 성과 요약 */
.chart-summary {
   display: flex;
   justify-content: space-around;
   align-items: center;
   margin-top: 20px;
   padding-top: 20px;
   border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.summary-item {
   text-align: center;
}

.summary-label {
   display: block;
   font-size: 1.3rem;
   color: #555;
   margin-bottom: 6px;
}

.summary-value {
   font-size: 2rem;
   font-weight: 700;
   color: #2c3e50;
}

/* 지난 기간 대비 증감률 색상 */
#period-comparison.positive {
   color: #27ae60; /* 긍정: 녹색 */
}
#period-comparison.negative {
   color: #e74c3c; /* 부정: 빨간색 */
}

/* --- 2-10. 음악 플레이어 페이지 (Music Player) --- */

.music-container {
   display: flex;
   flex-direction: column;
   gap: 32px; /* 간격 조정 */
   width: 100%;
   max-width: 800px; /* 최대 너비 지정 */
   margin: 0 auto; /* 중앙 정렬 */
}

/* 페이지 헤더 */
.music-container .page-header {
   text-align: center;
}
.music-container .page-header h1 {
   font-size: 2.4rem;
   font-weight: 700;
}
.music-container .page-header p {
   font-size: 1.5rem;
   color: #555;
   margin-top: 4px;
}

/* 플레이어 본체 */
.music-player {
   width: 90%;
   background-color: rgba(255, 255, 255, 0.3);
   backdrop-filter: blur(10px);
   border: 1px solid rgba(255, 255, 255, 0.5);
   border-radius: 20px;
   padding: 24px;
   box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
   margin: 0 auto;
}

.player-screen {
   position: relative;
   width: 100%;
   aspect-ratio: 16 / 9;
   background-color: #000;
   border-radius: 12px;
   overflow: hidden;
   border: 1px solid rgba(255, 255, 255, 0.2);
}
#youtube-player {
   width: 100%;
   height: 100%;
}
.player-overlay {
   position: absolute;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   display: flex;
   justify-content: center;
   align-items: center;
   background-color: rgba(0, 0, 0, 0.5);
   color: white;
   font-size: 1.6rem;
   font-weight: 500;
   pointer-events: none;
   opacity: 1;
   transition: opacity 0.5s ease;
}
.player-overlay.hidden {
   opacity: 0;
}

/* 트랙 정보 및 진행률 바 */
.track-info {
   padding: 20px 8px 12px 8px;
}
#track-title {
   display: block;
   font-size: 1.8rem;
   font-weight: 600;
   margin-bottom: 16px;
   text-align: center;
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
}
.progress-bar-container {
   width: 100%;
   height: 6px;
   background-color: rgba(0, 0, 0, 0.1);
   border-radius: 3px;
   cursor: pointer;
}
.progress-bar {
   width: 0%;
   height: 100%;
   background-color: #007aff;
   border-radius: 3px;
}
.time-info {
   display: flex;
   justify-content: space-between;
   font-size: 1.2rem;
   color: #555;
   margin-top: 8px;
}

/* 컨트롤러 버튼 */
.player-controls {
   display: flex;
   justify-content: center;
   align-items: center;
   gap: 24px;
}
.control-btn {
   background: none;
   border: none;
   cursor: pointer;
   padding: 8px; /* 터치 영역 확보 */
   border-radius: 50%;
   display: flex;
   justify-content: center;
   align-items: center;
   transition:
      background-color 0.2s,
      transform 0.2s;
}
.control-btn:hover {
   background-color: rgba(0, 0, 0, 0.05);
}
.control-btn:active {
   transform: scale(0.95);
}

/* 이전/다음 버튼 아이콘 크기 */
.control-btn img {
   width: 28px;
   height: 28px;
}

/* 재생/일시정지 버튼은 더 크게 */
#play-pause-btn {
   width: 64px;
   height: 64px;
}
#play-pause-btn img {
   width: 100%;
   height: 100%;
}

/* YouTube 계정 연동 */
.youtube-auth-container {
   width: 100%;
   background-color: rgba(255, 255, 255, 0.2);
   border: 1px solid rgba(255, 255, 255, 0.4);
   border-radius: 12px;
   padding: 20px;
   text-align: center;
}
.youtube-auth-container p {
   font-size: 1.4rem;
   margin-bottom: 12px;
}
#youtube-login-btn,
#youtube-logout-btn {
   padding: 10px 20px;
   border-radius: 8px;
   background-color: #db4437;
   color: white;
   font-weight: 500;
   font-size: 1.5rem;
   transition: background-color 0.2s;
   border: none;
   cursor: pointer;
}
#youtube-login-btn:hover,
#youtube-logout-btn:hover {
   background-color: #c33d2e;
}

/* 플레이리스트 선택 */
.playlist-selector {
   width: 100%;
   margin: 0 auto;
   /* border: 1px solid red; */
   display: flex;
   align-items: center;
   justify-content: center;
   flex-direction: column;
}
.playlist-selector h2 {
   font-size: 1.8rem;
   font-weight: 600;
   margin-bottom: 16px;
   text-align: center;
}
.playlist-grid {
   max-width: 400px;
   display: flex;
   justify-content: center;
   align-items: center;
   gap: 24px;
}
.playlist-card {
   background-color: rgba(255, 255, 255, 0.3);
   border: 1px solid rgba(255, 255, 255, 0.5);
   border-radius: 12px;
   padding: 12px;
   display: flex;
   flex-direction: column;
   align-items: center;
   gap: 12px;
   cursor: pointer;
   transition: all 0.2s ease;
   border: none;
   /* border: 1px solid red; */
}
.playlist-card:hover {
   transform: translateY(-4px);
   box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
}
.playlist-card img {
   width: 100%;
   border-radius: 8px;
   aspect-ratio: 16/9;
   object-fit: cover;
}
.playlist-card span {
   font-size: 1.5rem;
   font-weight: 500;
   text-align: center;
}
/* ==========================================================================
   3. 모바일 전용 컴포넌트 및 오버레이
   ========================================================================== */
.hamburger-button {
   display: none;
   width: 44px;
   height: 44px;
   justify-content: center;
   align-items: center;
   background: none;
}
.hamburger-button .icon-close {
   display: none;
}
.hamburger-button .icon-menu {
   display: block;
}
body.sidebar-open .hamburger-button .icon-menu {
   display: none;
}
body.sidebar-open .hamburger-button .icon-close {
   display: block;
}

.overlay {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   z-index: 99;
   cursor: pointer;
   background-color: rgba(0, 0, 0, 0.5);
   opacity: 0;
   visibility: hidden;
   transition:
      opacity 0.3s ease,
      visibility 0.3s ease;
}
body.sidebar-open .overlay {
   opacity: 1;
   visibility: visible;
}

/* --- 3. 커스텀 입력 모달 (Custom Prompt Modal) --- */

/* 뒷 배경을 어둡게 만드는 오버레이 */
.custom-prompt-overlay {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background-color: rgba(0, 0, 0, 0.4);
   backdrop-filter: blur(5px);
   -webkit-backdrop-filter: blur(5px);
   z-index: 200;
   display: flex;
   justify-content: center;
   align-items: center;
   opacity: 0;
   transition: opacity 0.2s ease-in-out;
}

/* 모달창 본체 */
.custom-prompt-modal {
   background-color: rgba(255, 255, 255, 0.6);
   border: 1px solid rgba(255, 255, 255, 0.7);
   border-radius: 16px;
   box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
   padding: 24px;
   width: 90%;
   max-width: 400px;
   transform: scale(0.95);
   transition: transform 0.2s ease-in-out;
}

/* 모달이 보일 때의 스타일 */
.custom-prompt-overlay:not(.hidden) {
   opacity: 1;
}
.custom-prompt-overlay:not(.hidden) .custom-prompt-modal {
   transform: scale(1);
}

/* hidden 클래스는 모달을 숨김 */
.custom-prompt-overlay.hidden {
   display: none;
}

/* 모달 내부 요소 스타일 */
#prompt-title {
   font-size: 1.8rem;
   font-weight: 600;
   margin-bottom: 16px;
   text-align: center;
}

#prompt-input {
   width: 100%;
   padding: 12px 14px;
   border-radius: 10px;
   border: 1px solid rgba(0, 0, 0, 0.1);
   background-color: rgba(255, 255, 255, 0.7);
   font-size: 1.5rem;
   margin-bottom: 20px;
}
#prompt-input:focus {
   outline: 2px solid #007aff;
}

.prompt-buttons {
   display: flex;
   gap: 12px;
}
.prompt-buttons button {
   flex: 1;
   padding: 12px;
   border-radius: 10px;
   font-size: 1.5rem;
   font-weight: 500;
   transition: background-color 0.2s;
}
#prompt-cancel-btn {
   background-color: rgba(0, 0, 0, 0.05);
}
#prompt-cancel-btn:hover {
   background-color: rgba(0, 0, 0, 0.1);
}
#prompt-confirm-btn {
   background-color: #007aff;
   color: white;
}
#prompt-confirm-btn:hover {
   background-color: #005fcc;
}

/* ==========================================================================
   4. 반응형 스타일 (Media Queries)
   ========================================================================== */
@media (max-width: 768px) {
   .hamburger-button {
      display: flex;
   }
   .logo {
      display: none;
   }
   .nav-group-title {
      color: #ffffff;
   }
}
