# React Error Handling & Resilience Design (실무 아키텍처 기준)

> 이 문서는 에러를 "잡는 방법"을 설명하지 않는다.  
> **앱이 실패하더라도 전체가 무너지지 않게 설계하는 방법**을 다룬다.

---

## 🧭 이 챕터의 위치

- React Form & Input State Design **이후**
- 실전 서비스 안정성 설계 **마지막 단계**

즉,
- try/catch 요령 ❌
- **실패를 전제로 한 앱 구조 설계** ✅

---

## 🎯 목표

- 에러의 종류를 명확히 분리한다
- Error Boundary의 책임을 이해한다
- 부분 실패를 허용하는 앱 구조를 설계한다

---

## 1. React 앱에서 에러는 왜 위험한가

### React의 기본 동작

- 렌더 중 에러 발생 → 컴포넌트 트리 붕괴
- 기본적으로 **복구 시도 없음**

👉 에러는 반드시 구조적으로 격리해야 한다

---

## 2. 에러의 분류 (반드시 나눠야 함)

### 2-1. Render Error (런타임)

- JSX 평가 중 오류
- undefined 접근

👉 **Error Boundary 대상**

---

### 2-2. Effect Error

- fetch 실패
- 이벤트 콜백 오류

👉 상태로 처리 (boundary 아님)

---

### 2-3. User Error

- 잘못된 입력
- 권한 없음

👉 UX 문제

---

## 3. Error Boundary의 본질

### 정의

> **렌더 단계에서 발생한 오류를 격리하는 안전망**

- try/catch 대체 ❌
- UI 격리 장치 ✅

---

## 4. Error Boundary가 잡지 못하는 것

- 이벤트 핸들러 오류
- 비동기 코드 오류
- effect 내부 오류

👉 그래서 에러는 **상태로도 관리**해야 한다

---

## 5. 어디에 Boundary를 둬야 하는가

### 잘못된 위치

- App 최상단 1개만

### 올바른 전략

- 페이지 단위
- 기능 단위

👉 실패 범위를 최소화

---

## 6. 에러 UI 설계 원칙

- 전체 앱 차단 ❌
- 대체 UI 제공 ✅
- 재시도 경로 제공

---

## 7. 서버 에러와 Boundary의 관계

- 서버 에러는 **렌더 에러가 아니다**
- Boundary로 처리 ❌
- 상태로 분기 ✅

---

## 8. Resilience 사고 체계

> **모든 기능은 실패해도 된다**

- 일부 기능 실패
- 앱은 계속 동작

👉 복원력(Resilience)

---

## 9. 실무 체크리스트

- [ ] 이 에러는 Boundary 대상인가?
- [ ] 실패 범위가 격리되어 있는가?
- [ ] 재시도 또는 대체 경로가 있는가?

---

## 🎯 이 챕터를 마치면

- 에러를 두려워하지 않는다
- 앱이 일부 실패해도 살아있다
- 서비스 안정성이 구조로 보장된다

---

## 🎉 설계 파트 종료

이 문서를 끝으로:

- JS → React 설계 사고 체계 **완성**
- 실무 기준 React 아키텍처 문서 **완결**

다음 단계는 **실전 구현 & 리팩터링 트랙**이다.

---

**이 문서는 React 안정성 설계의 최종 기준 문서다.**