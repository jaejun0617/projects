# React Routing & Navigation Design (실무 설계 기준)

> 이 문서는 React Router 사용법을 설명하지 않는다.  
> **URL을 상태로 다루는 사고 체계**와 라우팅이 앱 구조에 미치는 영향을 설명한다.

---

## 🧭 이 챕터의 위치

- React App Architecture & Folder Structure Design **이후**
- 대규모 화면/페이지 구성 **직전**

즉,
- `<Route />` 문법 ❌
- **URL = 상태(State)** 로 해석하는 단계 ✅

---

## 🎯 목표

- URL을 또 하나의 상태로 인식한다
- 라우팅 책임을 컴포넌트 책임과 분리한다
- 중첩 라우트/레이아웃 라우트의 설계 이유를 이해한다

---

## 1. URL은 무엇인가 (재정의)

### 잘못된 인식

- URL = 페이지 주소

### 실무적 정의

> **URL은 앱의 전역 상태 표현**

- 현재 화면
- 선택된 리소스 ID
- 필터/탭/페이지네이션

---

## 2. URL 상태 vs UI 상태

| 구분 | URL 상태 | UI 상태 |
|---|---|---|
| 공유 | 가능 (링크) | 불가 |
| 새로고침 | 유지 | 소멸 |
| 북마크 | 가능 | 불가 |

👉 공유되어야 하면 URL로 올린다

---

## 3. 라우팅이 망가질 때의 증상

- 모달/탭 상태가 새로고침 시 사라짐
- 뒤로가기 동작 불일치
- URL과 화면 불일치

👉 상태 위치를 잘못 둔 결과

---

## 4. 언제 URL로 올려야 하는가

### 기준 질문

- 이 상태를 공유해야 하는가?
- 새로고침 후에도 동일해야 하는가?
- 외부 진입이 가능한가?

👉 하나라도 Yes면 URL 상태

---

## 5. 중첩 라우트의 본질

### 목적

- 공통 레이아웃 유지
- 부분 화면 교체

```txt
/layout
 ├─ header
 ├─ sidebar
 └─ outlet
```

👉 레이아웃은 상태가 아니라 **구조**다

---

## 6. 레이아웃 라우트 설계

- 인증 레이아웃
- 대시보드 레이아웃
- 마케팅 페이지 레이아웃

👉 레이아웃은 페이지가 아니다

---

## 7. 파라미터 설계 기준

### 나쁜 예

- 의미 없는 id 남발

### 좋은 예

- 리소스 식별자만 URL에 포함

```txt
/users/:userId
```

---

## 8. 라우팅과 데이터 패칭의 관계

- 라우트 변경 → 상태 변경
- 상태 변경 → 서버 상태 요청

👉 라우트는 **데이터 패칭 트리거**

---

## 9. 라우팅 구조 체크리스트

- [ ] 이 상태는 URL에 있어야 하는가?
- [ ] 이 레이아웃은 재사용 가능한가?
- [ ] 뒤로가기 동작이 예측 가능한가?

---

## 🎯 이 챕터를 마치면

- URL을 문자열로 보지 않는다
- 라우팅이 구조 설계의 일부가 된다
- 페이지 수가 늘어나도 혼란이 없다

---

## 다음 챕터 예고

> **React Side Effect & Lifecycle Design**  
> effect는 언제 위험해지는가

---

**이 문서는 React 라우팅 설계 기준 문서다.**