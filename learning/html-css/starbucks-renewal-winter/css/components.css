/* =========================================================
   style.css (single file)
   - tokens + base + layout + section2 + footer
   ========================================================= */

/* =========================================================
   0) TOKENS
   ========================================================= */
:root {
   /* color */
   --bg-0: #fbfbfc;
   --bg-50: #f2f4f7;
   --bg-100: #e8ecf2;

   --text-900: #111318;
   --text-700: #2a2f38;
   --text-600: #4b5563;
   --text-400: #8a93a3;

   --line-200: #d6dde7;
   --line-300: #c3ccd8;

   --brand-700: #085a31;
   --brand-600: #0b6b3a;
   --brand-500: #138a4f;
   --brand-100: #d9f3e5;

   --accent-600: #b11f2a;
   --accent-500: #d12c3b;
   --accent-200: #ffd7dc;

   --ice-400: #8fc7ff;
   --ice-200: #d7eeff;

   --focus: var(--ice-400);

   /* spacing */
   --gutter: 24px;

   /* radius */
   --radius-sm: 12px;

   /* layout */
   --container: 1920px;
   --header-h: 72px;

   /* typography */
   --font-sans:
      ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto,
      'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;

   --fw-semibold: 600;
   --fw-bold: 700;

   --fs-12: 12px;
   --fs-14: 14px;
   --fs-16: 16px;

   --lh-base: 1.55;
   --ls-tight: -0.02em;

   /* motion */
   --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
}

html[data-theme='dark'] {
   --bg-0: #0b0e12;
   --bg-50: #111722;
   --bg-100: #182235;

   --text-900: #f3f5f7;
   --text-700: #d6dde7;
   --text-600: #b7c0cf;
   --text-400: #8a93a3;

   --line-200: #223047;
   --line-300: #2a3a55;
}

/* =========================================================
     1) BASE
     ========================================================= */
*,
*::before,
*::after {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
}

html {
   color: var(--text-900);
   font-family: var(--font-sans);
   line-height: var(--lh-base);
}

body {
   background-color: var(--bg-0);
   font-size: var(--fs-16);
}

a {
   color: inherit;
   text-decoration: none;
}

button {
   font-family: inherit;
   background: none;
   border: none;
   cursor: pointer;
}

img,
picture,
video,
canvas,
svg {
   display: block;
   max-width: 100%;
}

input,
textarea,
select,
button {
   font-family: inherit;
}

:focus-visible {
   outline: 2px solid var(--focus);
   outline-offset: 2px;
}

::selection {
   background: var(--ice-200);
   color: var(--text-900);
}

[hidden] {
   display: none !important;
}

@media (prefers-reduced-motion: reduce) {
   * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
   }
}

/* =========================================================
     2) LAYOUT (wrapper / container / header / main / footer frame)
     ========================================================= */
.wrapper {
   min-height: 100vh;
   display: grid;
   grid-template-rows: auto 1fr auto;
}

/* container */
.container {
   max-width: var(--container);
   margin-inline: auto;
   padding-inline: var(--gutter);
}

.container--narrow {
   max-width: 960px;
}
.container--wide {
   max-width: 1440px;
}
.container--inner {
   max-width: var(--container);
   margin-inline: auto;
   padding-inline: var(--gutter);
}

/* header (temporary frame) */
.site__header {
   width: 100%;
   height: var(--header-h);
   border: 1px solid var(--ice-400);
}

.site__header .container {
   max-width: var(--container);
   padding-inline: var(--gutter);
   margin-inline: auto;
}

/* main (temporary frame) */
.site__main {
   border: 1px solid var(--brand-500);
}

/* footer frame */
.site__footer {
   width: 100%;
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   border: 1px solid var(--ice-400);
   padding: 18px 0;
   gap: 6px;
}

.footer__copyright {
   font-size: var(--fs-14);
   color: var(--text-400);
}

.footer__disclaimer {
   font-size: var(--fs-12);
   color: var(--text-400);
   text-align: center;
   max-width: 60ch;
}

/* =========================================================
   3) SECTION 02 — Featured Picks
   ========================================================= */

/* ====== Section background ====== */
.featured__picks {
   position: relative;
   width: 100%;
   min-height: 100svh;
   min-height: 100vh;
   background: url('../assets/img/section__2/section_bg.png') center / cover
      no-repeat;
   overflow: hidden;
}

/* overlay */
.featured__picks::before {
   content: '';
   position: absolute;
   inset: 0;
   background: linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.25),
      rgba(0, 0, 0, 0.12)
   );
   pointer-events: none;
}

/* bring content above overlay */
.featured__picks > .container {
   position: relative;
   z-index: 1;
}

/* ====== List layout ====== */
.featured__list {
   min-height: 100vh;
   display: grid;
   place-items: center;
   padding-block: clamp(24px, 6vh, 72px);
}

.featured__list ul {
   list-style: none;
   display: flex;
   justify-content: center;
   align-items: flex-end;
   gap: clamp(12px, 2vw, 24px);
   padding: 0;
   margin: 0;

   perspective: 1200px;
}

/* ====== Card base ====== */
.featured__list li {
   padding: 0;
}

/* ✅ 카드 자체 overflow visible: 배지 안 잘림 */
.featured__list li.featured__card {
   width: clamp(190px, 16vw, 320px);
   aspect-ratio: 3 / 4;

   position: relative;
   display: grid;
   grid-template-rows: minmax(0, 1fr) auto; /* ✅ desc 안정 노출 */

   border-radius: var(--radius-sm);
   background: color-mix(in oklab, var(--bg-0), #ffffff 10%);
   overflow: visible; /* ✅ 핵심 */

   transform-origin: 50% 85%;
   will-change: transform;

   transition:
      transform 360ms var(--ease-out),
      box-shadow 360ms var(--ease-out),
      outline-color 200ms var(--ease-out);

   outline: 2px solid transparent;
   outline-offset: 6px;

   box-shadow: 0 16px 34px rgba(0, 0, 0, 0.22);
}

/* ✅ 이미지 영역만 클리핑 (둥근 모서리 유지) */
.featured__media {
   overflow: hidden;
   border-radius: var(--radius-sm);
   border-bottom-left-radius: 0;
   border-bottom-right-radius: 0;

   display: grid;
   place-items: center;
}

/* bottom shadow */
.featured__list li.featured__card::after {
   content: '';
   position: absolute;
   left: 12%;
   right: 12%;
   bottom: -14px;
   height: 22px;
   background: radial-gradient(
      closest-side,
      rgba(0, 0, 0, 0.28),
      rgba(0, 0, 0, 0)
   );
   filter: blur(3px);
   opacity: 0.75;
   pointer-events: none;
}

/* image */
.featured__media > img {
   width: 100%;
   height: auto;
   max-height: 100%;
   object-fit: contain;
   display: block;

   padding: clamp(12px, 1.2vw, 18px);
   background: transparent;
   filter: drop-shadow(0 18px 24px rgba(0, 0, 0, 0.25));
}

/* desc */
.featured__desc {
   background: color-mix(in oklab, var(--bg-0), #ffffff 15%);
   border-top: 1px solid var(--line-200);
   padding: 12px 14px 14px;
   display: grid;
   gap: 6px;
   text-align: left;
}

.featured__desc strong {
   font-size: var(--fs-16);
   font-weight: var(--fw-semibold);
   color: var(--text-900);
   letter-spacing: var(--ls-tight);
}

.featured__desc p {
   font-size: var(--fs-14);
   color: var(--text-600);
   line-height: 1.4;
   margin: 0;
}

/* badge */
.featured_bg {
   position: absolute;
   top: -18px;
   left: -18px;
   width: 64px;
   height: 64px;

   z-index: 10; /* ✅ 최상단 */
   pointer-events: none;
}

.featured_bg img {
   width: 100%;
   height: 100%;
   border-radius: 50%;
   object-fit: cover;
   background: transparent;
   filter: drop-shadow(0 10px 14px rgba(0, 0, 0, 0.22));
}

/* ====== rotations (요청 각도 정확히) ====== */
.featured__list li.featured__card:nth-child(1) {
   transform: rotateZ(-5deg) rotateX(1.2deg);
}
.featured__list li.featured__card:nth-child(2) {
   transform: rotateZ(6deg) rotateX(1.2deg);
}
.featured__list li.featured__card:nth-child(3) {
   transform: rotateZ(-6deg) rotateX(1.2deg);
}
.featured__list li.featured__card:nth-child(4) {
   transform: rotateZ(8deg) rotateX(1.2deg);
}
.featured__list li.featured__card:nth-child(5) {
   transform: rotateZ(-4deg) rotateX(1.2deg);
}

/* hover */
.featured__list li.featured__card:hover {
   transform: translateY(-22px) rotateZ(0deg) rotateX(0deg) scale(1.03);
   outline-color: var(--brand-600);
   box-shadow: 0 34px 58px rgba(0, 0, 0, 0.32);
   z-index: 20;
}

.featured__list li.featured__card:hover::after {
   opacity: 0.9;
   filter: blur(4px);
}

/* ====== Responsive ====== */
@media (max-width: 1024px) {
   .featured__list ul {
      flex-wrap: wrap;
      align-items: center;
      row-gap: 18px;
   }

   .featured__list li.featured__card {
      width: min(320px, 44vw);
   }
}

@media (max-width: 640px) {
   /* 기본(각 nth-child) 전부 무력화 */
   .featured__list li.featured__card {
      width: min(360px, 90vw);
      transform: none !important;
   }

   /* hover에서도 transform 다시 걸리는 것까지 차단 */
   .featured__list li.featured__card:hover {
      transform: none !important;
   }

   .featured_bg {
      top: -14px;
      left: -14px;
      width: 56px;
      height: 56px;
   }
}
