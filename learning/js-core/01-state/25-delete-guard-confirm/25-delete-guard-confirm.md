# Day 25 — Delete Guard & Confirm

📁 **Folder Name**  
`25-delete-guard-confirm`

---

## ✅ 오늘 한 줄 요약
> 삭제는 배열에서 지우는 문제가 아니라, **잘못된 상태 전이를 막는 Guard 설계 문제**다.

---

## 📌 프로젝트 개요 (WHY)

Day 25의 목표는 “삭제 버튼 구현”이 아니다.  
이 Day에서는 **삭제라는 파괴적 행동을 어떻게 안전하게 제어할 것인가**를 다룬다.

실무에서 삭제는 항상 다음 위험을 동반한다.

- 실수로 클릭
- 중복 클릭
- 이미 사라진 데이터 접근
- 수정 중 데이터 삭제

이 프로젝트는 위 위험을 **Confirm + Guard 로직**으로 구조적으로 차단한다.

---

## 🎯 미션 목표 (Mission Goals)

- 삭제 전에 사용자 의도를 명시적으로 확인한다
- 잘못된 상태에서의 삭제를 Guard 로직으로 차단한다
- index가 아닌 **id 기반 삭제**를 사용한다
- 삭제 중 중복 인터랙션을 방지한다
- 상태 변경 후 항상 render로 UI를 재계산한다

---

## 🔥 오늘의 핵심 (Key Takeaways)

- 삭제는 즉시 실행 ❌ → **검증 후 실행 ⭕**
- Guard는 조건문이 아니라 **상태 안정성 장치**
- Confirm은 UX가 아니라 **데이터 보호 장치**
- 파괴적 액션일수록 방어 로직이 먼저 온다

---

## 🧠 핵심 개념 / 설계 요약

### 1️⃣ 삭제 Confirm (의도 확인)

```js
const ok = window.confirm("정말 삭제할까요?");
if (!ok) return;
```

- 사용자의 실수 방지
- 삭제 의도 명확화

---

### 2️⃣ Guard 로직 (방어 설계)

삭제는 반드시 다음을 통과해야 한다.

1. 삭제 대상이 실제 존재하는가?
2. 현재 삭제 중인 항목이 아닌가?
3. 수정(Edit) 중인 상태가 아닌가?

```js
if (!target) return;
if (state.deletingId !== null) return;
if (target.isEditing) return;
```

---

### 3️⃣ id 기반 삭제 (안정성)

```js
state.todos = state.todos.filter(todo => todo.id !== targetId);
```

- 필터/정렬/순서 변경에도 안전
- index 기반 삭제의 치명적 버그 방지

---

## 🏗️ 구현 기준 & 기른 역량

### 구현 기준

- 삭제는 항상 confirm + guard를 거친다
- 삭제 중에는 UI 인터랙션을 제한한다
- 상태 변경은 원본(state.todos) 기준으로만 수행한다
- DOM 조작은 render 함수에만 존재한다

### 기른 역량

- 파괴적 액션 설계 능력
- Guard 로직 설계 감각
- id 기반 상태 관리 이해
- 실무형 UX 안정성 사고

---

## 🏗️ 구현 내용 (인터랙티브 과제)

### A. 요구사항

- Todo 추가 / 완료 토글
- View / Edit 모드 분리
- 삭제 전 Confirm
- 삭제 중 중복 클릭 방지
- 필터 상태(all / active / completed) 유지

---

## 📁 파일 구조

```txt
25-delete-guard-confirm/
├─ index.html
├─ css/
│  └─ style.css
└─ js/
   └─ main.js
```

---

## ✅ 제출 체크리스트

- [ ] 삭제 전에 confirm이 존재하는가?
- [ ] 잘못된 상태에서 삭제가 차단되는가?
- [ ] index가 아닌 id로 삭제하는가?
- [ ] 삭제 중 중복 실행이 방지되는가?
- [ ] 삭제 후 render로 UI가 재계산되는가?

---

## 🎯 얻어가는 점

- 삭제를 “기능”이 아닌 “위험 관리”로 바라보는 관점
- Guard 기반 상태 안정성 설계
- 실무에서 바로 쓰는 삭제 패턴 습득

---

## 🧠 마무리

Day 25의 핵심은  
삭제 버튼을 만드는 것이 아니라,

> **지워도 되는 순간과, 지우면 안 되는 순간을 구분하는 설계 사고**를 갖는 것이다.
